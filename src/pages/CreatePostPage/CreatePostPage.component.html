<div class="create-post-wrapper container pt-4">
  <div class="grid justify-content-center">
    <div class="create-header col-8">
      <p-dropdown [options]="types" [(ngModel)]="selectedType" (onChange)="onChangeType($event)" placeholder="">
      </p-dropdown>
    </div>
    <div class="col-2">

    </div>
    <div class="editor-post col-12 lg:col-8 justify-content-center">
      <p-tabView styleClass="tabview-custom">
        <p-tabPanel>
          <ng-template pTemplate="header">
            <span>{{'createPost.edit' | translate}}</span>
            <i class="ml-2 pi pi-pencil"></i>
          </ng-template>
          <ng-template [ngIf]="selectedType == 'HTML'" [ngIfElse]="markdownEditor">
            <p-editor [(ngModel)]="content" [placeholder]="'Write something here ...'" [style]="{'min-height':'420px'}"
              (onTextChange)="onTextChange($event)"></p-editor>
          </ng-template>
          <ng-template #markdownEditor>
            <textarea [rows]="25" class="w-full h-full" [(ngModel)]="contentMd" pInputTextarea [autoResize]="true"
              placeholder="{{'createPost.placeholder' | translate}}" autofocus></textarea>
          </ng-template>
        </p-tabPanel>
        <p-tabPanel>
          <ng-template pTemplate="header">
            <span>{{'createPost.preview' | translate}}</span>
            <i class="ml-2 pi pi-eye"></i>
          </ng-template>
          <markdown class="preview-content" [data]="content"></markdown>
        </p-tabPanel>
      </p-tabView>
      <div class="flex justify-content-end mt-4">
        <button pButton pRipple type="button" label="{{'createPost.discard' | translate}}" (click)="onClickDiscard()"
          class="p-button-outlined p-button-danger ml-2"></button>
        <button pButton pRipple type="button" label="{{'createPost.saveDraft' | translate}}" (click)="onClickSaveDraft()"
          class="p-button-outlined ml-2"></button>
        <button pButton pRipple type="button" label="{{'createPost.publish' | translate}}" (click)="onClickPublish()"
          class="p-button-raised ml-2"></button>
      </div>
    </div>
    <div class="col-2"></div>
    <div class="col-12 editor-footer">
    </div>
  </div>
</div>
<p-confirmDialog [breakpoints]="{'960px': '70vw', '640px': '90vw'}" [style]="{width: '50vw'}" [dismissableMask]="true"></p-confirmDialog>
<p-toast></p-toast>